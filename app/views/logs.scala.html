@(appName:String)

@main(""){

<script src="@routes.Assets.at("javascripts/jquery-1.7.1.min.js")" type="text/javascript"> </script>

<script type="text/javascript">
$(document).ready(callLogs());

function callLogs(){
	getLogs();
	updateLogs();
}

function getLogs(){	
getLog('stderr');
getLog('stdout');
}

function getLog(logType)
{
	$.get("/getLog?appName=@appName&logType="+logType,
		function(fetchLog){
			$("#log-"+logType).html(fetchLog);
			},
		"html"
		);
}
	
function updateLogs() {
	setInterval(function(){getLogs()},10000)	
}

function end(id)
{
	var log = document.getElementById("log-"+id);
	log.scrollTop = log.scrollHeight;
}

</script>

<body>
<br>
<div align="right"><a id="logout" href="@routes.Application.logout">Log Out</a></div>
<div align="left"> <a id="apps" href="@routes.Application.showApps">Back to Applications</a></div>
<h4 align="center"> Logs For <span id="appname">@appName</span>: </h4>

<div style="width:100%; height:100%;">

<div style="width:100%; height:40%;">
<span id="stderr" style="height: 50%; width: 95%;">Standard Error Logs</span> <br>
<input type="checkbox" name="scrollLog1" value="scrollLog1" onclick="if(this.checked){end('stderr')}">Go to the end of log
</br>
<pre>
<textarea readonly="readonly" rows="15" cols="200" id="log-stderr" name="log-stderr" style="height: 50%; width: 95%;">

</textarea>
</pre>
</div>
<br>
<div style="width:100%; height:50%;">
<span id="stdout" style="height: 50%; width: 95%;">Standard Output Logs</span> <br>
<input type="checkbox" name="scrollLog2" value="scrollLog2" onclick="if(this.checked){end('stdout')}">Go to the end of log
</br>
<pre>
<textarea readonly="readonly" rows="15" cols="200" id="log-stdout" name="log-stdout" style="height: 50%; width: 95%;">

</textarea>
</pre>
</div>

</div>

</body>
 }  