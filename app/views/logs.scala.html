@(appName:String, email:String)

@main("My Logs"){

<script src="@routes.Assets.at("javascripts/jquery-1.7.1.min.js")" type="text/javascript"> </script>

<script type="text/javascript">
$(document).ready(callLogs());

function callLogs(){
	getLogs();
	updateLogs();
}

function getLogs(){	
getLog('stderr');
getLog('stdout');
}

function getLog(logType)
{
	$.get("/getLog?appName=@appName&logType="+logType,
		function(fetchLog){
			$("#log-"+logType).html(fetchLog);
			},
		"html"
		);	
	$("#flash1").fadeOut(100).fadeIn(100);
	$("#flash2").fadeOut(100).fadeIn(100);
}
	
function updateLogs() {
	
	setInterval(function(){getLogs()},10000);	
}

function end(id)
{
	var log = document.getElementById("log-"+id);
	log.scrollTop = log.scrollHeight;
}
</script>

<body>
<br>
 <font color="#087cbb">
<span style="margin-left:20px;">
Welcome @email
<img align="left" src="@routes.Assets.at("images/logo_header_cloudfoundry.png")"/>
</span>
 <p class="buttons" align="right">
	
<span style="background-color:#EBEBEB">

<ul id="css3menu1" class="topmenu">
	<li class="topfirst"><a id="apps" href="@routes.Application.showApps" style="height:17px;line-height:17px;"> My Apps </a></li>
	<li class="topmenu"><a id="info" href="@routes.Application.getInfo" style="height:17px;line-height:17px;"><span> My Usage </span></a>
	<li class="toplast"><a id="logout" href="@routes.Application.logout" style="height:17px;line-height:17px;"> Logout </a></li>
</ul>
</span>     
 </p>
 <center>

<h3 align="center"> Logs For <span id="appname">@appName</span>: </h3> </font>
<div style="width:100%; height:100%;">
<div id="flash1" style="width:100%; height:40%;">
<span id="stderr" style="height: 50%; width: 95%;">Standard Error Log</span> <br>
<input type="checkbox" name="scrollLog1" value="scrollLog1" onclick="if(this.checked){end('stderr')}">Go to the end of log
</br>
<pre>
<textarea readonly="readonly" rows="15" cols="200" id="log-stderr" name="log-stderr" style="height: 50%; width: 95%; resize:none">

</textarea>
</pre>
</div>
<br>
<div id="flash2" style="width:100%; height:50%;">
<span id="stdout" style="height: 50%; width: 95%;">Standard Output Log</span> <br>
<input type="checkbox" name="scrollLog2" value="scrollLog2" onclick="if(this.checked){end('stdout')}">Go to the end of log
</br>
<pre>
<textarea readonly="readonly" rows="15" cols="200" id="log-stdout" name="log-stdout" style="height: 50%; width: 95%; resize:none">

</textarea>
</pre>
</div>
</div>
</body>
 }  